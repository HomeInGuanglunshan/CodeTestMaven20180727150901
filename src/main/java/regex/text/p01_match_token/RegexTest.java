package regex.text.p01_match_token;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class RegexTest {

	public static void main(String[] args) {
		
		String result = "\n\n\n<!DOCTYPE html>\n\n<html>\n<head>\n    <meta name=\"viewport\" content=\"width=device-width\" />\n    <title>航天精一（广东）信息科技有限公司项目管理系统 - 系统登录</title>\n    <link rel=\"apple-touch-icon-precomposed\" href=\"/Areas/Phone/img/favico.ico\" />\n    <link rel=\"shortcut icon\" href=\"/Areas/Phone/img/favico.ico\" />\n    <script src=\"/Scripts/JQuery/jquery-1.11.1.min.js\"></script>\n    <script src=\"/Scripts/jquery-easyui/custom/jquery.easyui.query.js?v=20180823\"></script>\n    <link href=\"/Content/CSS/login.css?v=20180823\" rel=\"stylesheet\" />\n    <link href=\"/Content/CSS/font-awesome.css?v=20180823\" rel=\"stylesheet\" />\n    <script type=\"text/javascript\" src=\"/Scripts/lib/power/tip/jquery.power.tip.js?v=20180823\"></script>\n    <link href=\"/Scripts/lib/power/tip/tip.css?v=20180823\" rel=\"stylesheet\" />\n    <link href=\"/Content/CSS/layout.css?v=20180823\" rel=\"stylesheet\" />\n    <script src=\"/Scripts/lib/cryptoRSA/jsencrypt.min.js?v=20180823\"></script>\n    <script src=\"/Scripts/lib/login.js?v=20180823\"></script>\n    <script src=\"/Scripts/lib/jsviews/jsrender.js?v=20180823\"></script>\n    <link href=\"/Scripts/jBox/Skins/Blue/jbox.css\" rel=\"stylesheet\" />\n    <script src=\"/Scripts/jBox/jquery.jBox-2.3.min.js\"></script>\n    <script src=\"/Scripts/jBox/i18n/jquery.jBox-zh-CN.js\"></script>\n\n    <style>\n        #loginContent { height:283px; margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0; }\n    </style>\n\n    <script type=\"text/javascript\">\n\n        window.closeJbox = function () {\n            $.jBox.close();\n        }\n        window.showTip = function (msg, type) {\n            $.power.tip(msg, type);\n        }\n        var pageApp = {\n            settings: {\n                caLoginEnabled_Norinco: \"False\" == \"True\",\n                action_LoginPost: \"/MvcPages/Home/LoginPost\",\n                action_CaLogin: \"/MvcPages/Home/CaLogin\",\n                action_GetLogo: \"/MvcPages/Home/GetLogo\",\n                action_SendPasswordMail: \"/MvcPages/Home/SendPasswordMail\"\n            },\n            init: function () {\n\n                this.initControls();\n                this.initEvents();\n            },\n            initControls: function () {\n                if (pageApp.settings.caLoginEnabled_Norinco) {\n                    $(\"#defaultLogin_form\").hide();\n                    $(\"#CALogin_form\").show();\n                    return;\n                }\n                else {\n                    $(\"#defaultLogin_form\").show();\n                    $(\"#CALogin_form\").hide();\n                }\n\n                $(\"#UserId\").focus();\n\n            },\n            initEvents: function () {\n\n                var $validateCode = $(\"#validateCode\")\n                $validateCode.attr(\"src\", \"/ajax/Authorization/GetValidateCode/\" + Math.floor(Math.random() * (100000 + 1)));\n                $validateCode.click(function () {\n                    $validateCode.attr(\"src\", \"/ajax/Authorization/GetValidateCode/\" + Math.floor(Math.random() * (100000 + 1)));\n                });\n\n                $(\"#btnForgetPassword\").on(\"click\", function () {\n                    var html = $(\"#forgetPassword_template\").render();\n                    $.jBox(html, {\n                        title: '忘记密码',\n                        width: 600,\n                        buttons: { '发送': 'ok', '取消': 'c' },\n                        loaded: function (h) {\n                            var $h = $(h);\n                            $.post(pageApp.settings.action_GetLogo, {}, function (data) {\n                                $h.find(\"#ltlLogo\").html(data);\n                            });\n                        },\n                        submit: function (v, h, f) {\n                            if (v == 'ok') {\n                                if (f.UserId == \"\") {\n                                    $.power.tip(\"请正确填写.\", \"warning\");\n                                    return false;\n                                }\n                                $.post(pageApp.settings.action_SendPasswordMail, { userId: f.UserId }, function (data) {\n                                    if (!data.IsSuccess) {\n                                        $.power.tip(data.Message, 'warning');\n                                        return false;\n                                    }\n                                    $.jBox.close();\n                                    $.power.tip(data.Message);\n                                })\n                            }\n                            else {\n                                return true;\n                            }\n                            return false;\n                        }\n                    });\n                });\n\n                //登陆方式切换\n                $('input[name=loginType]').on('change', function () {\n                    if ($(this).val() == \"AdminLogin\") {\n                        $(\"#adminPassword\").show();\n                        $(\"#CASubmit\").val(\"登陆\");\n                    }\n                    else {\n                        $(\"#adminPassword\").hide();\n                        $(\"#CASubmit\").val(\"证书登陆\");\n                    }\n                });\n\n                //证书方式登陆\n                $(\"#CASubmit\").on('click', (function () {\n                    var loginType = $('input[name=loginType]:checked').val();\n                    var password = $('#CAPassword').val();\n\n                    //验证客户端证书\n                    $.post(pageApp.settings.action_CaLogin, { loginType: loginType, password: password }, function (result) {\n\n                        if (!result.IsSuccess) {\n                            $.power.tip(result.Message, \"warning\");\n                            return;\n                        }\n                        else {\n                            $.power.tip(\"登录成功，正在跳转...\", \"loading\");\n                                window.location.href = result.Message;\n                        }\n                    });\n                })\n                );\n\n                //普通登陆\n                $(\"#loginContent\").submit(function () {\n\n                    var self = this;\n                    var data = $(self).queryParams();\n\n                    if (!data.UserId) {\n                        $.power.tip('请输入登录名', \"warning\");\n                        $(\"#UserId\").focus();\n                        return false;\n                    }\n\n                    if (!data.Password) {\n                        $.power.tip('请输入密码', \"warning\");\n                        $(\"#Password\").focus();\n                        return false;\n                    }\n\n\n                    //rsa加密\n                    var publicKey = login.pubkey;\n                    var encrypt = new JSEncrypt();\n                    encrypt.setPublicKey(publicKey);\n                    data.Password = encrypt.encrypt(data.Password);\n\n                    $.power.tip(\"正在登录...\", \"loading\");\n                    $.post(pageApp.settings.action_LoginPost, data, function (d) {\n                        $.power.closeTip();\n                        $validateCode.click();\n\n                        if (d.success) {\n                            $.power.tip(\"登录成功，正在跳转...\", \"loading\");\n                                window.location.href = d.success;\n                        } else if (d.error) {\n                            $.power.tip(d.error, \"warning\");\n                        } else if (d.info == '修改初始密码') {\n                            $.power.tip('首次登录需要修改密码', \"loading\");\n                            $.jBox('iframe:/MvcPages/Home/ChangePasswordView?userId=' +encodeURIComponent(data.UserId) , {\n                                title: '重置密码',\n                                width: 340,\n                                height: 220,\n                                top:'30%',\n                                loaded: function (h) {\n                                    $.power.closeTip();\n                                },\n                                submit: function (v, h, f) {\n                                },\n                                buttons: { }\n                            });\n                        };\n                    })\n\n                    return false;\n                });\n            }\n        };\n\n        $(function () {\n            pageApp.init();\n        })\n    </script>\n\n    <script id=\"forgetPassword_template\" type=\"text/x-jsrender\">\n        <div style=\"height: 60px;\">\n            <label id=\"ltlLogo\"></label>\n        </div>\n        <div style=\"margin-left:50px;\">\n            <span>用户名：</span>\n            <input type=\"text\" name=\"UserId\" class=\"input_text_new\" style=\"width:150px;\" />\n            <span style=\"margin-left:10px;color:red;\">请确保填写正确的用户名，否则将无法收到邮件！</span>\n        </div>\n    </script>\n</head>\n<body>\n    <div class=\"login_container\" style=\"background: url(/Content/Images/Customs/LoginBg/Enterprise_login_bg.jpg) fixed center center no-repeat;\">\n        <div class=\"login_logo\">\n            <img src=\"/Content/Images/Customs/Logo/Enterprise_Logo.png\" width=\"350\" height=\"50\" alt=\"\" />\n        </div>\n        <form id=\"loginContent\" class=\"login_content\" action=\"/MvcPages/Home/Login\" method=\"post\">\n<input name=\"__RequestVerificationToken\" type=\"hidden\" value=\"8OhA_Rj2fj-TGMj44eGsLO_jt_KUI_VZ0-OWw2TMSZeqGGnm5ebSKTGUhmFHhc8OvHZqSJOVT_mCmUF4BdFee360KD6I_t6QSzDvssrDyMg1\" />            <h3>登 录</h3>\n            <div class=\"login_form\" id=\"defaultLogin_form\">\n                <div>\n                    <label for=\"UserId\">登录名</label>\n                    <input name=\"UserId\" type=\"text\" id=\"UserId\">\n                </div>\n                <div>\n                    <label for=\"Password\">密码</label>\n                    <input name=\"Password\" type=\"password\" id=\"Password\">\n                </div>\n                <div>\n                    <div class=\"remember_password\">\n                        <label>\n                            <input type=\"checkbox\" value=\"true\" name=\"rememberMe\" checked=\"checked\" />\n                            记住密码\n                        </label>\n                    </div>\n                </div>\n                <div>\n                    <input type=\"submit\" value=\"登录\" class=\"login_btn\" style=\"border:0px;cursor:pointer\" />\n                </div>\n                    <div>\n                        <div class=\"login_password\" style=\"margin:0px;\">\n                            <a id=\"btnForgetPassword\" href=\"javascript:void(0)\">\n                                <i class=\"fa fa-question-circle fa-fw\"></i> 忘记密码\n                            </a>\n                        </div>\n                    </div>\n            </div>\n            <div class=\"login_form\" id=\"CALogin_form\">\n                <div>\n                    <input type=\"radio\" name=\"loginType\" checked=\"checked\" value=\"CA\" />证书登陆\n                    <input type=\"radio\" name=\"loginType\" value=\"AdminLogin\" />管理员登陆\n                </div>\n                <div id=\"adminPassword\" style=\"display:none\">\n                    <label for=\"CAPassword\">管理员密码</label>\n                    <input name=\"CAPassword\" type=\"password\" id=\"CAPassword\">\n                </div>\n                <div>\n                    <input id=\"CASubmit\" type=\"submit\" value=\"登录\" class=\"login_btn\" style=\"border:0px;cursor:pointer\" />\n                </div>\n            </div>\n\n        </form>\n        <div id=\"footer\">\n             Copyright &#169; 2008-2018 航天精一（广东）信息科技有限公司 Version 2.0 Build 2018.0823 \n        </div>\n    </div>\n</body>\n</html>\n\n";
		String regex = "<input\\s+name=\"__RequestVerificationToken\"\\s+type=\"hidden\"\\s+value=\"(.+?(?=\"))\"\\s*/>";
		Matcher m = Pattern.compile(regex).matcher(result);
		while (m.find()) {
			System.out.println(m.group(1));
			break;
		}
	}
}
